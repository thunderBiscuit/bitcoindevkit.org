<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="generator" content="rustdoc"><meta name="description" content="A transaction builder"><meta name="keywords" content="rust, rustlang, rust-lang, TxBuilder"><title>TxBuilder in bdk::wallet::tx_builder - Rust</title><link rel="preload" as="font" type="font/woff2" crossorigin href="../../../SourceSerif4-Regular.ttf.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../../../FiraSans-Regular.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../../../FiraSans-Medium.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../../../SourceCodePro-Regular.ttf.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../../../SourceSerif4-Bold.ttf.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../../../SourceCodePro-Semibold.ttf.woff2"><link rel="stylesheet" type="text/css" href="../../../normalize.css"><link rel="stylesheet" type="text/css" href="../../../rustdoc.css" id="mainThemeStyle"><link rel="stylesheet" type="text/css" href="../../../ayu.css" disabled><link rel="stylesheet" type="text/css" href="../../../dark.css" disabled><link rel="stylesheet" type="text/css" href="../../../light.css" id="themeStyle"><script id="default-settings" ></script><script src="../../../storage.js"></script><script src="../../../crates.js"></script><script defer src="../../../main.js"></script>
    <noscript><link rel="stylesheet" href="../../../noscript.css"></noscript><link rel="alternate icon" type="image/png" href="../../../favicon-16x16.png"><link rel="alternate icon" type="image/png" href="../../../favicon-32x32.png"><link rel="icon" type="image/svg+xml" href="../../../favicon.svg"></head><body class="rustdoc struct"><!--[if lte IE 11]><div class="warning">This old browser is unsupported and will most likely display funky things.</div><![endif]--><nav class="mobile-topbar"><button class="sidebar-menu-toggle">&#9776;</button><a class="sidebar-logo" href="../../../bdk/index.html"><div class="logo-container"><img src="https://github.com/bitcoindevkit/bdk/raw/master/static/bdk.png" alt="logo"></div>
        </a><h2 class="location"></h2>
    </nav>
    <nav class="sidebar"><a class="sidebar-logo" href="../../../bdk/index.html"><div class="logo-container">
                    <img src="https://github.com/bitcoindevkit/bdk/raw/master/static/bdk.png" alt="logo"></div>
        </a><h2 class="location"><a href="#">TxBuilder</a></h2><div class="sidebar-elems"><div class="block items"><h3 class="sidebar-title"><a href="#implementations">Associated Constants</a></h3><div class="sidebar-links"><a href="#associatedconstant.ALIGN">ALIGN</a></div><h3 class="sidebar-title"><a href="#implementations">Methods</a></h3><div class="sidebar-links"><a href="#method.add_data">add_data</a><a href="#method.add_foreign_utxo">add_foreign_utxo</a><a href="#method.add_global_xpubs">add_global_xpubs</a><a href="#method.add_recipient">add_recipient</a><a href="#method.add_unspendable">add_unspendable</a><a href="#method.add_utxo">add_utxo</a><a href="#method.add_utxos">add_utxos</a><a href="#method.allow_dust">allow_dust</a><a href="#method.allow_shrinking">allow_shrinking</a><a href="#method.change_policy">change_policy</a><a href="#method.coin_selection">coin_selection</a><a href="#method.current_height">current_height</a><a href="#method.do_not_spend_change">do_not_spend_change</a><a href="#method.drain_to">drain_to</a><a href="#method.drain_wallet">drain_wallet</a><a href="#method.enable_rbf">enable_rbf</a><a href="#method.enable_rbf_with_sequence">enable_rbf_with_sequence</a><a href="#method.fee_absolute">fee_absolute</a><a href="#method.fee_rate">fee_rate</a><a href="#method.finish">finish</a><a href="#method.include_output_redeem_witness_script">include_output_redeem_witness_script</a><a href="#method.manually_selected_only">manually_selected_only</a><a href="#method.nlocktime">nlocktime</a><a href="#method.only_spend_change">only_spend_change</a><a href="#method.only_witness_utxo">only_witness_utxo</a><a href="#method.ordering">ordering</a><a href="#method.policy_path">policy_path</a><a href="#method.set_recipients">set_recipients</a><a href="#method.sighash">sighash</a><a href="#method.unspendable">unspendable</a><a href="#method.version">version</a></div><h3 class="sidebar-title"><a href="#trait-implementations">Trait Implementations</a></h3><div class="sidebar-links"><a href="#impl-Clone">Clone</a><a href="#impl-Debug">Debug</a></div><h3 class="sidebar-title"><a href="#synthetic-implementations">Auto Trait Implementations</a></h3><div class="sidebar-links"><a href="#impl-RefUnwindSafe">!RefUnwindSafe</a><a href="#impl-Send">!Send</a><a href="#impl-Sync">!Sync</a><a href="#impl-Unpin">Unpin</a><a href="#impl-UnwindSafe">!UnwindSafe</a></div><h3 class="sidebar-title"><a href="#blanket-implementations">Blanket Implementations</a></h3><div class="sidebar-links"><a href="#impl-Any">Any</a><a href="#impl-Borrow%3CT%3E">Borrow&lt;T&gt;</a><a href="#impl-BorrowMut%3CT%3E">BorrowMut&lt;T&gt;</a><a href="#impl-From%3CT%3E">From&lt;T&gt;</a><a href="#impl-Into%3CU%3E">Into&lt;U&gt;</a><a href="#impl-Pointable">Pointable</a><a href="#impl-ToOwned">ToOwned</a><a href="#impl-TryFrom%3CU%3E">TryFrom&lt;U&gt;</a><a href="#impl-TryInto%3CU%3E">TryInto&lt;U&gt;</a><a href="#impl-VZip%3CV%3E">VZip&lt;V&gt;</a></div></div><h2 class="location">In <a href="../../index.html">bdk</a>::<wbr><a href="../index.html">wallet</a>::<wbr><a href="index.html">tx_builder</a></h2><div id="sidebar-vars" data-name="TxBuilder" data-ty="struct" data-relpath=""></div><script defer src="sidebar-items.js"></script></div></nav><main><div class="width-limiter"><div class="sub-container"><a class="sub-logo-container" href="../../../bdk/index.html">
                        <img src="https://github.com/bitcoindevkit/bdk/raw/master/static/bdk.png" alt="logo"></a><nav class="sub"><div class="theme-picker hidden"><button id="theme-picker" aria-label="Pick another theme!" aria-haspopup="menu" title="themes"><img width="22" height="22" alt="Pick another theme!" src="../../../brush.svg"></button><div id="theme-choices" role="menu"></div></div><form class="search-form"><div class="search-container"><span></span><input class="search-input" name="search" autocomplete="off" spellcheck="false" placeholder="Click or press ‘S’ to search, ‘?’ for more options…" type="search"><button type="button" id="help-button" title="help">?</button><a id="settings-menu" href="../../../settings.html" title="settings"><img width="22" height="22" alt="Change settings" src="../../../wheel.svg"></a></div></form></nav></div><section id="main-content" class="content"><div class="main-heading">
    <h1 class="fqn"><span class="in-band">Struct <a href="../../index.html">bdk</a>::<wbr><a href="../index.html">wallet</a>::<wbr><a href="index.html">tx_builder</a>::<wbr><a class="struct" href="#">TxBuilder</a><button id="copy-path" onclick="copy_path(this)" title="Copy item path to clipboard"><img src="../../../clipboard.svg" width="19" height="18" alt="Copy item path"></button></span></h1><span class="out-of-band"><a class="srclink" href="../../../src/bdk/wallet/tx_builder.rs.html#120-125" title="goto source code">source</a> · <a id="toggle-all-docs" href="javascript:void(0)" title="collapse all docs">[<span class="inner">&#x2212;</span>]</a></span></div><div class="docblock item-decl"><pre class="rust struct"><code>pub struct TxBuilder&lt;'a, D, Cs, Ctx&gt; { /* private fields */ }</code></pre></div><details class="rustdoc-toggle top-doc" open><summary class="hideme"><span>Expand description</span></summary><div class="docblock"><p>A transaction builder</p>
<p>A <code>TxBuilder</code> is created by calling <a href="../struct.Wallet.html#method.build_tx"><code>build_tx</code></a> or <a href="../struct.Wallet.html#method.build_fee_bump"><code>build_fee_bump</code></a> on a wallet. After
assigning it, you set options on it until finally calling <a href="struct.TxBuilder.html#method.finish"><code>finish</code></a> to consume the builder and
generate the transaction.</p>
<p>Each option setting method on <code>TxBuilder</code> takes and returns <code>&amp;mut self</code> so you can chain calls
as in the following example:</p>

<div class="example-wrap"><pre class="rust rust-example-rendered"><code><span class="comment">// chaining</span>
<span class="kw">let</span> (<span class="ident">psbt1</span>, <span class="ident">details</span>) <span class="op">=</span> {
    <span class="kw">let</span> <span class="kw-2">mut</span> <span class="ident">builder</span> <span class="op">=</span> <span class="ident">wallet</span>.<span class="ident">build_tx</span>();
    <span class="ident">builder</span>
        .<span class="ident">ordering</span>(<span class="ident">TxOrdering::Untouched</span>)
        .<span class="ident">add_recipient</span>(<span class="ident">addr1</span>.<span class="ident">script_pubkey</span>(), <span class="number">50_000</span>)
        .<span class="ident">add_recipient</span>(<span class="ident">addr2</span>.<span class="ident">script_pubkey</span>(), <span class="number">50_000</span>);
    <span class="ident">builder</span>.<span class="ident">finish</span>()<span class="question-mark">?</span>
};

<span class="comment">// non-chaining</span>
<span class="kw">let</span> (<span class="ident">psbt2</span>, <span class="ident">details</span>) <span class="op">=</span> {
    <span class="kw">let</span> <span class="kw-2">mut</span> <span class="ident">builder</span> <span class="op">=</span> <span class="ident">wallet</span>.<span class="ident">build_tx</span>();
    <span class="ident">builder</span>.<span class="ident">ordering</span>(<span class="ident">TxOrdering::Untouched</span>);
    <span class="kw">for</span> <span class="ident">addr</span> <span class="kw">in</span> <span class="kw-2">&amp;</span>[<span class="ident">addr1</span>, <span class="ident">addr2</span>] {
        <span class="ident">builder</span>.<span class="ident">add_recipient</span>(<span class="ident">addr</span>.<span class="ident">script_pubkey</span>(), <span class="number">50_000</span>);
    }
    <span class="ident">builder</span>.<span class="ident">finish</span>()<span class="question-mark">?</span>
};

<span class="macro">assert_eq!</span>(<span class="ident">psbt1</span>.<span class="ident">unsigned_tx</span>.<span class="ident">output</span>[..<span class="number">2</span>], <span class="ident">psbt2</span>.<span class="ident">unsigned_tx</span>.<span class="ident">output</span>[..<span class="number">2</span>]);</code></pre></div>
<p>At the moment <a href="struct.TxBuilder.html#method.coin_selection"><code>coin_selection</code></a> is an exception to the rule as it consumes <code>self</code>.
This means it is usually best to call <a href="struct.TxBuilder.html#method.coin_selection"><code>coin_selection</code></a> on the return value of <code>build_tx</code> before assigning it.</p>
<p>For further examples see <a href="index.html">this module</a>’s documentation;</p>
</div></details><h2 id="implementations" class="small-section-header">Implementations<a href="#implementations" class="anchor"></a></h2><details class="rustdoc-toggle implementors-toggle" open><summary><div id="impl" class="impl has-srclink"><div class="rightside"><a class="srclink" href="../../../src/bdk/wallet/tx_builder.rs.html#184-572" title="goto source code">source</a></div><a href="#impl" class="anchor"></a><h3 class="code-header in-band">impl&lt;'a, D:&nbsp;<a class="trait" href="../../database/trait.BatchDatabase.html" title="trait bdk::database::BatchDatabase">BatchDatabase</a>, Cs:&nbsp;<a class="trait" href="../coin_selection/trait.CoinSelectionAlgorithm.html" title="trait bdk::wallet::coin_selection::CoinSelectionAlgorithm">CoinSelectionAlgorithm</a>&lt;D&gt;, Ctx:&nbsp;<a class="trait" href="trait.TxBuilderContext.html" title="trait bdk::wallet::tx_builder::TxBuilderContext">TxBuilderContext</a>&gt; <a class="struct" href="struct.TxBuilder.html" title="struct bdk::wallet::tx_builder::TxBuilder">TxBuilder</a>&lt;'a, D, Cs, Ctx&gt;</h3></div></summary><div class="impl-items"><details class="rustdoc-toggle method-toggle" open><summary><div id="method.fee_rate" class="method has-srclink"><div class="rightside"><a class="srclink" href="../../../src/bdk/wallet/tx_builder.rs.html#188-191" title="goto source code">source</a></div><a href="#method.fee_rate" class="anchor"></a><h4 class="code-header">pub fn <a href="#method.fee_rate" class="fnname">fee_rate</a>(&amp;mut self, fee_rate: <a class="struct" href="../../struct.FeeRate.html" title="struct bdk::FeeRate">FeeRate</a>) -&gt; <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.reference.html">&amp;mut </a>Self</h4></div></summary><div class="docblock"><p>Set a custom fee rate</p>
</div></details><details class="rustdoc-toggle method-toggle" open><summary><div id="method.fee_absolute" class="method has-srclink"><div class="rightside"><a class="srclink" href="../../../src/bdk/wallet/tx_builder.rs.html#194-197" title="goto source code">source</a></div><a href="#method.fee_absolute" class="anchor"></a><h4 class="code-header">pub fn <a href="#method.fee_absolute" class="fnname">fee_absolute</a>(&amp;mut self, fee_amount: <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.u64.html">u64</a>) -&gt; <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.reference.html">&amp;mut </a>Self</h4></div></summary><div class="docblock"><p>Set an absolute fee</p>
</div></details><details class="rustdoc-toggle method-toggle" open><summary><div id="method.policy_path" class="method has-srclink"><div class="rightside"><a class="srclink" href="../../../src/bdk/wallet/tx_builder.rs.html#258-270" title="goto source code">source</a></div><a href="#method.policy_path" class="anchor"></a><h4 class="code-header">pub fn <a href="#method.policy_path" class="fnname">policy_path</a>(<br>&nbsp;&nbsp;&nbsp;&nbsp;&amp;mut self, <br>&nbsp;&nbsp;&nbsp;&nbsp;policy_path: <a class="struct" href="https://doc.rust-lang.org/nightly/alloc/collections/btree/map/struct.BTreeMap.html" title="struct alloc::collections::btree::map::BTreeMap">BTreeMap</a>&lt;<a class="struct" href="https://doc.rust-lang.org/nightly/alloc/string/struct.String.html" title="struct alloc::string::String">String</a>, <a class="struct" href="https://doc.rust-lang.org/nightly/alloc/vec/struct.Vec.html" title="struct alloc::vec::Vec">Vec</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.usize.html">usize</a>&gt;&gt;, <br>&nbsp;&nbsp;&nbsp;&nbsp;keychain: <a class="enum" href="../../enum.KeychainKind.html" title="enum bdk::KeychainKind">KeychainKind</a><br>) -&gt; <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.reference.html">&amp;mut </a>Self</h4></div></summary><div class="docblock"><p>Set the policy path to use while creating the transaction for a given keychain.</p>
<p>This method accepts a map where the key is the policy node id (see
<a href="../../descriptor/policy/struct.Policy.html#structfield.id"><code>Policy::id</code></a>) and the value is the list of the indexes of
the items that are intended to be satisfied from the policy node (see
<a href="../../descriptor/policy/enum.SatisfiableItem.html#variant.Thresh.field.items"><code>SatisfiableItem::Thresh::items</code></a>).</p>
<h6 id="example" class="section-header"><a href="#example">Example</a></h6>
<p>An example of when the policy path is needed is the following descriptor:
<code>wsh(thresh(2,pk(A),sj:and_v(v:pk(B),n:older(6)),snj:and_v(v:pk(C),after(630000))))</code>,
derived from the miniscript policy <code>thresh(2,pk(A),and(pk(B),older(6)),and(pk(C),after(630000)))</code>.
It declares three descriptor fragments, and at the top level it uses <code>thresh()</code> to
ensure that at least two of them are satisfied. The individual fragments are:</p>
<ol>
<li><code>pk(A)</code></li>
<li><code>and(pk(B),older(6))</code></li>
<li><code>and(pk(C),after(630000))</code></li>
</ol>
<p>When those conditions are combined in pairs, it’s clear that the transaction needs to be created
differently depending on how the user intends to satisfy the policy afterwards:</p>
<ul>
<li>If fragments <code>1</code> and <code>2</code> are used, the transaction will need to use a specific
<code>n_sequence</code> in order to spend an <code>OP_CSV</code> branch.</li>
<li>If fragments <code>1</code> and <code>3</code> are used, the transaction will need to use a specific <code>locktime</code>
in order to spend an <code>OP_CLTV</code> branch.</li>
<li>If fragments <code>2</code> and <code>3</code> are used, the transaction will need both.</li>
</ul>
<p>When the spending policy is represented as a tree (see
<a href="../struct.Wallet.html#method.policies"><code>Wallet::policies</code></a>), every node
is assigned a unique identifier that can be used in the policy path to specify which of
the node’s children the user intends to satisfy: for instance, assuming the <code>thresh()</code>
root node of this example has an id of <code>aabbccdd</code>, the policy path map would look like:</p>
<p><code>{ &quot;aabbccdd&quot; =&gt; [0, 1] }</code></p>
<p>where the key is the node’s id, and the value is a list of the children that should be
used, in no particular order.</p>
<p>If a particularly complex descriptor has multiple ambiguous thresholds in its structure,
multiple entries can be added to the map, one for each node that requires an explicit path.</p>

<div class="example-wrap"><pre class="rust rust-example-rendered"><code><span class="kw">let</span> <span class="kw-2">mut</span> <span class="ident">path</span> <span class="op">=</span> <span class="ident">BTreeMap::new</span>();
<span class="ident">path</span>.<span class="ident">insert</span>(<span class="string">&quot;aabbccdd&quot;</span>.<span class="ident">to_string</span>(), <span class="macro">vec!</span>[<span class="number">0</span>, <span class="number">1</span>]);

<span class="kw">let</span> <span class="ident">builder</span> <span class="op">=</span> <span class="ident">wallet</span>
    .<span class="ident">build_tx</span>()
    .<span class="ident">add_recipient</span>(<span class="ident">to_address</span>.<span class="ident">script_pubkey</span>(), <span class="number">50_000</span>)
    .<span class="ident">policy_path</span>(<span class="ident">path</span>, <span class="ident">KeychainKind::External</span>);
</code></pre></div>
</div></details><details class="rustdoc-toggle method-toggle" open><summary><div id="method.add_utxos" class="method has-srclink"><div class="rightside"><a class="srclink" href="../../../src/bdk/wallet/tx_builder.rs.html#278-294" title="goto source code">source</a></div><a href="#method.add_utxos" class="anchor"></a><h4 class="code-header">pub fn <a href="#method.add_utxos" class="fnname">add_utxos</a>(&amp;mut self, outpoints: <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.slice.html">&amp;[</a>OutPoint<a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.slice.html">]</a>) -&gt; <a class="enum" href="https://doc.rust-lang.org/nightly/core/result/enum.Result.html" title="enum core::result::Result">Result</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.reference.html">&amp;mut </a>Self, <a class="enum" href="../../enum.Error.html" title="enum bdk::Error">Error</a>&gt;</h4></div></summary><div class="docblock"><p>Add the list of outpoints to the internal list of UTXOs that <strong>must</strong> be spent.</p>
<p>If an error occurs while adding any of the UTXOs then none of them are added and the error is returned.</p>
<p>These have priority over the “unspendable” utxos, meaning that if a utxo is present both in
the “utxos” and the “unspendable” list, it will be spent.</p>
</div></details><details class="rustdoc-toggle method-toggle" open><summary><div id="method.add_utxo" class="method has-srclink"><div class="rightside"><a class="srclink" href="../../../src/bdk/wallet/tx_builder.rs.html#300-302" title="goto source code">source</a></div><a href="#method.add_utxo" class="anchor"></a><h4 class="code-header">pub fn <a href="#method.add_utxo" class="fnname">add_utxo</a>(&amp;mut self, outpoint: OutPoint) -&gt; <a class="enum" href="https://doc.rust-lang.org/nightly/core/result/enum.Result.html" title="enum core::result::Result">Result</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.reference.html">&amp;mut </a>Self, <a class="enum" href="../../enum.Error.html" title="enum bdk::Error">Error</a>&gt;</h4></div></summary><div class="docblock"><p>Add a utxo to the internal list of utxos that <strong>must</strong> be spent</p>
<p>These have priority over the “unspendable” utxos, meaning that if a utxo is present both in
the “utxos” and the “unspendable” list, it will be spent.</p>
</div></details><details class="rustdoc-toggle method-toggle" open><summary><div id="method.add_foreign_utxo" class="method has-srclink"><div class="rightside"><a class="srclink" href="../../../src/bdk/wallet/tx_builder.rs.html#346-381" title="goto source code">source</a></div><a href="#method.add_foreign_utxo" class="anchor"></a><h4 class="code-header">pub fn <a href="#method.add_foreign_utxo" class="fnname">add_foreign_utxo</a>(<br>&nbsp;&nbsp;&nbsp;&nbsp;&amp;mut self, <br>&nbsp;&nbsp;&nbsp;&nbsp;outpoint: OutPoint, <br>&nbsp;&nbsp;&nbsp;&nbsp;psbt_input: Input, <br>&nbsp;&nbsp;&nbsp;&nbsp;satisfaction_weight: <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.usize.html">usize</a><br>) -&gt; <a class="enum" href="https://doc.rust-lang.org/nightly/core/result/enum.Result.html" title="enum core::result::Result">Result</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.reference.html">&amp;mut </a>Self, <a class="enum" href="../../enum.Error.html" title="enum bdk::Error">Error</a>&gt;</h4></div></summary><div class="docblock"><p>Add a foreign UTXO i.e. a UTXO not owned by this wallet.</p>
<p>At a minimum to add a foreign UTXO we need:</p>
<ol>
<li><code>outpoint</code>: To add it to the raw transaction.</li>
<li><code>psbt_input</code>: To know the value.</li>
<li><code>satisfaction_weight</code>: To know how much weight/vbytes the input will add to the transaction for fee calculation.</li>
</ol>
<p>There are several security concerns about adding foreign UTXOs that application
developers should consider. First, how do you know the value of the input is correct? If a
<code>non_witness_utxo</code> is provided in the <code>psbt_input</code> then this method implicitly verifies the
value by checking it against the transaction. If only a <code>witness_utxo</code> is provided then this
method doesn’t verify the value but just takes it as a given – it is up to you to check
that whoever sent you the <code>input_psbt</code> was not lying!</p>
<p>Secondly, you must somehow provide <code>satisfaction_weight</code> of the input. Depending on your
application it may be important that this be known precisely. If not, a malicious
counterparty may fool you into putting in a value that is too low, giving the transaction a
lower than expected feerate. They could also fool you into putting a value that is too high
causing you to pay a fee that is too high. The party who is broadcasting the transaction can
of course check the real input weight matches the expected weight prior to broadcasting.</p>
<p>To guarantee the <code>satisfaction_weight</code> is correct, you can require the party providing the
<code>psbt_input</code> provide a miniscript descriptor for the input so you can check it against the
<code>script_pubkey</code> and then ask it for the <a href="../../descriptor/enum.Descriptor.html#method.max_satisfaction_weight"><code>max_satisfaction_weight</code></a>.</p>
<p>This is an <strong>EXPERIMENTAL</strong> feature, API and other major changes are expected.</p>
<h5 id="errors" class="section-header"><a href="#errors">Errors</a></h5>
<p>This method returns errors in the following circumstances:</p>
<ol>
<li>The <code>psbt_input</code> does not contain a <code>witness_utxo</code> or <code>non_witness_utxo</code>.</li>
<li>The data in <code>non_witness_utxo</code> does not match what is in <code>outpoint</code>.</li>
</ol>
<p>Note unless you set <a href="struct.TxBuilder.html#method.only_witness_utxo"><code>only_witness_utxo</code></a> any non-taproot <code>psbt_input</code> you pass to this
method must have <code>non_witness_utxo</code> set otherwise you will get an error when <a href="struct.TxBuilder.html#method.finish"><code>finish</code></a>
is called.</p>
</div></details><details class="rustdoc-toggle method-toggle" open><summary><div id="method.manually_selected_only" class="method has-srclink"><div class="rightside"><a class="srclink" href="../../../src/bdk/wallet/tx_builder.rs.html#389-392" title="goto source code">source</a></div><a href="#method.manually_selected_only" class="anchor"></a><h4 class="code-header">pub fn <a href="#method.manually_selected_only" class="fnname">manually_selected_only</a>(&amp;mut self) -&gt; <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.reference.html">&amp;mut </a>Self</h4></div></summary><div class="docblock"><p>Only spend utxos added by <a href="struct.TxBuilder.html#method.add_utxo"><code>add_utxo</code></a>.</p>
<p>The wallet will <strong>not</strong> add additional utxos to the transaction even if they are needed to
make the transaction valid.</p>
</div></details><details class="rustdoc-toggle method-toggle" open><summary><div id="method.unspendable" class="method has-srclink"><div class="rightside"><a class="srclink" href="../../../src/bdk/wallet/tx_builder.rs.html#398-401" title="goto source code">source</a></div><a href="#method.unspendable" class="anchor"></a><h4 class="code-header">pub fn <a href="#method.unspendable" class="fnname">unspendable</a>(&amp;mut self, unspendable: <a class="struct" href="https://doc.rust-lang.org/nightly/alloc/vec/struct.Vec.html" title="struct alloc::vec::Vec">Vec</a>&lt;OutPoint&gt;) -&gt; <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.reference.html">&amp;mut </a>Self</h4></div></summary><div class="docblock"><p>Replace the internal list of unspendable utxos with a new list</p>
<p>It’s important to note that the “must-be-spent” utxos added with <a href="struct.TxBuilder.html#method.add_utxo" title="TxBuilder::add_utxo"><code>TxBuilder::add_utxo</code></a>
have priority over these. See the docs of the two linked methods for more details.</p>
</div></details><details class="rustdoc-toggle method-toggle" open><summary><div id="method.add_unspendable" class="method has-srclink"><div class="rightside"><a class="srclink" href="../../../src/bdk/wallet/tx_builder.rs.html#407-410" title="goto source code">source</a></div><a href="#method.add_unspendable" class="anchor"></a><h4 class="code-header">pub fn <a href="#method.add_unspendable" class="fnname">add_unspendable</a>(&amp;mut self, unspendable: OutPoint) -&gt; <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.reference.html">&amp;mut </a>Self</h4></div></summary><div class="docblock"><p>Add a utxo to the internal list of unspendable utxos</p>
<p>It’s important to note that the “must-be-spent” utxos added with <a href="struct.TxBuilder.html#method.add_utxo" title="TxBuilder::add_utxo"><code>TxBuilder::add_utxo</code></a>
have priority over this. See the docs of the two linked methods for more details.</p>
</div></details><details class="rustdoc-toggle method-toggle" open><summary><div id="method.sighash" class="method has-srclink"><div class="rightside"><a class="srclink" href="../../../src/bdk/wallet/tx_builder.rs.html#415-418" title="goto source code">source</a></div><a href="#method.sighash" class="anchor"></a><h4 class="code-header">pub fn <a href="#method.sighash" class="fnname">sighash</a>(&amp;mut self, sighash: PsbtSighashType) -&gt; <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.reference.html">&amp;mut </a>Self</h4></div></summary><div class="docblock"><p>Sign with a specific sig hash</p>
<p><strong>Use this option very carefully</strong></p>
</div></details><details class="rustdoc-toggle method-toggle" open><summary><div id="method.ordering" class="method has-srclink"><div class="rightside"><a class="srclink" href="../../../src/bdk/wallet/tx_builder.rs.html#421-424" title="goto source code">source</a></div><a href="#method.ordering" class="anchor"></a><h4 class="code-header">pub fn <a href="#method.ordering" class="fnname">ordering</a>(&amp;mut self, ordering: <a class="enum" href="enum.TxOrdering.html" title="enum bdk::wallet::tx_builder::TxOrdering">TxOrdering</a>) -&gt; <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.reference.html">&amp;mut </a>Self</h4></div></summary><div class="docblock"><p>Choose the ordering for inputs and outputs of the transaction</p>
</div></details><details class="rustdoc-toggle method-toggle" open><summary><div id="method.nlocktime" class="method has-srclink"><div class="rightside"><a class="srclink" href="../../../src/bdk/wallet/tx_builder.rs.html#429-432" title="goto source code">source</a></div><a href="#method.nlocktime" class="anchor"></a><h4 class="code-header">pub fn <a href="#method.nlocktime" class="fnname">nlocktime</a>(&amp;mut self, locktime: <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.u32.html">u32</a>) -&gt; <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.reference.html">&amp;mut </a>Self</h4></div></summary><div class="docblock"><p>Use a specific nLockTime while creating the transaction</p>
<p>This can cause conflicts if the wallet’s descriptors contain an “after” (OP_CLTV) operator.</p>
</div></details><details class="rustdoc-toggle method-toggle" open><summary><div id="method.version" class="method has-srclink"><div class="rightside"><a class="srclink" href="../../../src/bdk/wallet/tx_builder.rs.html#438-441" title="goto source code">source</a></div><a href="#method.version" class="anchor"></a><h4 class="code-header">pub fn <a href="#method.version" class="fnname">version</a>(&amp;mut self, version: <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.i32.html">i32</a>) -&gt; <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.reference.html">&amp;mut </a>Self</h4></div></summary><div class="docblock"><p>Build a transaction with a specific version</p>
<p>The <code>version</code> should always be greater than <code>0</code> and greater than <code>1</code> if the wallet’s
descriptors contain an “older” (OP_CSV) operator.</p>
</div></details><details class="rustdoc-toggle method-toggle" open><summary><div id="method.do_not_spend_change" class="method has-srclink"><div class="rightside"><a class="srclink" href="../../../src/bdk/wallet/tx_builder.rs.html#447-450" title="goto source code">source</a></div><a href="#method.do_not_spend_change" class="anchor"></a><h4 class="code-header">pub fn <a href="#method.do_not_spend_change" class="fnname">do_not_spend_change</a>(&amp;mut self) -&gt; <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.reference.html">&amp;mut </a>Self</h4></div></summary><div class="docblock"><p>Do not spend change outputs</p>
<p>This effectively adds all the change outputs to the “unspendable” list. See
<a href="struct.TxBuilder.html#method.unspendable" title="TxBuilder::unspendable"><code>TxBuilder::unspendable</code></a>.</p>
</div></details><details class="rustdoc-toggle method-toggle" open><summary><div id="method.only_spend_change" class="method has-srclink"><div class="rightside"><a class="srclink" href="../../../src/bdk/wallet/tx_builder.rs.html#456-459" title="goto source code">source</a></div><a href="#method.only_spend_change" class="anchor"></a><h4 class="code-header">pub fn <a href="#method.only_spend_change" class="fnname">only_spend_change</a>(&amp;mut self) -&gt; <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.reference.html">&amp;mut </a>Self</h4></div></summary><div class="docblock"><p>Only spend change outputs</p>
<p>This effectively adds all the non-change outputs to the “unspendable” list. See
<a href="struct.TxBuilder.html#method.unspendable" title="TxBuilder::unspendable"><code>TxBuilder::unspendable</code></a>.</p>
</div></details><details class="rustdoc-toggle method-toggle" open><summary><div id="method.change_policy" class="method has-srclink"><div class="rightside"><a class="srclink" href="../../../src/bdk/wallet/tx_builder.rs.html#463-466" title="goto source code">source</a></div><a href="#method.change_policy" class="anchor"></a><h4 class="code-header">pub fn <a href="#method.change_policy" class="fnname">change_policy</a>(&amp;mut self, change_policy: <a class="enum" href="enum.ChangeSpendPolicy.html" title="enum bdk::wallet::tx_builder::ChangeSpendPolicy">ChangeSpendPolicy</a>) -&gt; <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.reference.html">&amp;mut </a>Self</h4></div></summary><div class="docblock"><p>Set a specific <a href="enum.ChangeSpendPolicy.html" title="ChangeSpendPolicy"><code>ChangeSpendPolicy</code></a>. See <a href="struct.TxBuilder.html#method.do_not_spend_change" title="TxBuilder::do_not_spend_change"><code>TxBuilder::do_not_spend_change</code></a> and
<a href="struct.TxBuilder.html#method.only_spend_change" title="TxBuilder::only_spend_change"><code>TxBuilder::only_spend_change</code></a> for some shortcuts.</p>
</div></details><details class="rustdoc-toggle method-toggle" open><summary><div id="method.only_witness_utxo" class="method has-srclink"><div class="rightside"><a class="srclink" href="../../../src/bdk/wallet/tx_builder.rs.html#473-476" title="goto source code">source</a></div><a href="#method.only_witness_utxo" class="anchor"></a><h4 class="code-header">pub fn <a href="#method.only_witness_utxo" class="fnname">only_witness_utxo</a>(&amp;mut self) -&gt; <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.reference.html">&amp;mut </a>Self</h4></div></summary><div class="docblock"><p>Only Fill-in the <a href="bitcoin::util::psbt::Input::witness_utxo"><code>psbt::Input::witness_utxo</code></a> field when spending from
SegWit descriptors.</p>
<p>This reduces the size of the PSBT, but some signers might reject them due to the lack of
the <code>non_witness_utxo</code>.</p>
</div></details><details class="rustdoc-toggle method-toggle" open><summary><div id="method.include_output_redeem_witness_script" class="method has-srclink"><div class="rightside"><a class="srclink" href="../../../src/bdk/wallet/tx_builder.rs.html#482-485" title="goto source code">source</a></div><a href="#method.include_output_redeem_witness_script" class="anchor"></a><h4 class="code-header">pub fn <a href="#method.include_output_redeem_witness_script" class="fnname">include_output_redeem_witness_script</a>(&amp;mut self) -&gt; <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.reference.html">&amp;mut </a>Self</h4></div></summary><div class="docblock"><p>Fill-in the <a href="bitcoin::util::psbt::Output::redeem_script"><code>psbt::Output::redeem_script</code></a> and
<a href="bitcoin::util::psbt::Output::witness_script"><code>psbt::Output::witness_script</code></a> fields.</p>
<p>This is useful for signers which always require it, like ColdCard hardware wallets.</p>
</div></details><details class="rustdoc-toggle method-toggle" open><summary><div id="method.add_global_xpubs" class="method has-srclink"><div class="rightside"><a class="srclink" href="../../../src/bdk/wallet/tx_builder.rs.html#492-495" title="goto source code">source</a></div><a href="#method.add_global_xpubs" class="anchor"></a><h4 class="code-header">pub fn <a href="#method.add_global_xpubs" class="fnname">add_global_xpubs</a>(&amp;mut self) -&gt; <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.reference.html">&amp;mut </a>Self</h4></div></summary><div class="docblock"><p>Fill-in the <code>PSBT_GLOBAL_XPUB</code> field with the extended keys contained in both the external
and internal descriptors</p>
<p>This is useful for offline signers that take part to a multisig. Some hardware wallets like
BitBox and ColdCard are known to require this.</p>
</div></details><details class="rustdoc-toggle method-toggle" open><summary><div id="method.drain_wallet" class="method has-srclink"><div class="rightside"><a class="srclink" href="../../../src/bdk/wallet/tx_builder.rs.html#498-501" title="goto source code">source</a></div><a href="#method.drain_wallet" class="anchor"></a><h4 class="code-header">pub fn <a href="#method.drain_wallet" class="fnname">drain_wallet</a>(&amp;mut self) -&gt; <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.reference.html">&amp;mut </a>Self</h4></div></summary><div class="docblock"><p>Spend all the available inputs. This respects filters like <a href="struct.TxBuilder.html#method.unspendable" title="TxBuilder::unspendable"><code>TxBuilder::unspendable</code></a> and the change policy.</p>
</div></details><details class="rustdoc-toggle method-toggle" open><summary><div id="method.coin_selection" class="method has-srclink"><div class="rightside"><a class="srclink" href="../../../src/bdk/wallet/tx_builder.rs.html#508-518" title="goto source code">source</a></div><a href="#method.coin_selection" class="anchor"></a><h4 class="code-header">pub fn <a href="#method.coin_selection" class="fnname">coin_selection</a>&lt;P:&nbsp;<a class="trait" href="../coin_selection/trait.CoinSelectionAlgorithm.html" title="trait bdk::wallet::coin_selection::CoinSelectionAlgorithm">CoinSelectionAlgorithm</a>&lt;D&gt;&gt;(<br>&nbsp;&nbsp;&nbsp;&nbsp;self, <br>&nbsp;&nbsp;&nbsp;&nbsp;coin_selection: P<br>) -&gt; <a class="struct" href="struct.TxBuilder.html" title="struct bdk::wallet::tx_builder::TxBuilder">TxBuilder</a>&lt;'a, D, P, Ctx&gt;</h4></div></summary><div class="docblock"><p>Choose the coin selection algorithm</p>
<p>Overrides the <a href="../coin_selection/type.DefaultCoinSelectionAlgorithm.html"><code>DefaultCoinSelectionAlgorithm</code></a>.</p>
<p>Note that this function consumes the builder and returns it so it is usually best to put this as the first call on the builder.</p>
</div></details><details class="rustdoc-toggle method-toggle" open><summary><div id="method.finish" class="method has-srclink"><div class="rightside"><a class="srclink" href="../../../src/bdk/wallet/tx_builder.rs.html#525-527" title="goto source code">source</a></div><a href="#method.finish" class="anchor"></a><h4 class="code-header">pub fn <a href="#method.finish" class="fnname">finish</a>(self) -&gt; <a class="enum" href="https://doc.rust-lang.org/nightly/core/result/enum.Result.html" title="enum core::result::Result">Result</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.tuple.html">(</a>Psbt, <a class="struct" href="../../struct.TransactionDetails.html" title="struct bdk::TransactionDetails">TransactionDetails</a><a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.tuple.html">)</a>, <a class="enum" href="../../enum.Error.html" title="enum bdk::Error">Error</a>&gt;</h4></div></summary><div class="docblock"><p>Finish building the transaction.</p>
<p>Returns the <a href="https://github.com/bitcoin/bips/blob/master/bip-0174.mediawiki"><code>BIP174</code></a> “PSBT” and summary details about the transaction.</p>
</div></details><details class="rustdoc-toggle method-toggle" open><summary><div id="method.enable_rbf" class="method has-srclink"><div class="rightside"><a class="srclink" href="../../../src/bdk/wallet/tx_builder.rs.html#532-535" title="goto source code">source</a></div><a href="#method.enable_rbf" class="anchor"></a><h4 class="code-header">pub fn <a href="#method.enable_rbf" class="fnname">enable_rbf</a>(&amp;mut self) -&gt; <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.reference.html">&amp;mut </a>Self</h4></div></summary><div class="docblock"><p>Enable signaling RBF</p>
<p>This will use the default nSequence value of <code>0xFFFFFFFD</code>.</p>
</div></details><details class="rustdoc-toggle method-toggle" open><summary><div id="method.enable_rbf_with_sequence" class="method has-srclink"><div class="rightside"><a class="srclink" href="../../../src/bdk/wallet/tx_builder.rs.html#544-547" title="goto source code">source</a></div><a href="#method.enable_rbf_with_sequence" class="anchor"></a><h4 class="code-header">pub fn <a href="#method.enable_rbf_with_sequence" class="fnname">enable_rbf_with_sequence</a>(&amp;mut self, nsequence: <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.u32.html">u32</a>) -&gt; <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.reference.html">&amp;mut </a>Self</h4></div></summary><div class="docblock"><p>Enable signaling RBF with a specific nSequence value</p>
<p>This can cause conflicts if the wallet’s descriptors contain an “older” (OP_CSV) operator
and the given <code>nsequence</code> is lower than the CSV value.</p>
<p>If the <code>nsequence</code> is higher than <code>0xFFFFFFFD</code> an error will be thrown, since it would not
be a valid nSequence to signal RBF.</p>
</div></details><details class="rustdoc-toggle method-toggle" open><summary><div id="method.current_height" class="method has-srclink"><div class="rightside"><a class="srclink" href="../../../src/bdk/wallet/tx_builder.rs.html#560-563" title="goto source code">source</a></div><a href="#method.current_height" class="anchor"></a><h4 class="code-header">pub fn <a href="#method.current_height" class="fnname">current_height</a>(&amp;mut self, height: <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.u32.html">u32</a>) -&gt; <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.reference.html">&amp;mut </a>Self</h4></div></summary><div class="docblock"><p>Set the current blockchain height.</p>
<p>This will be used to:</p>
<ol>
<li>Set the nLockTime for preventing fee sniping.
<strong>Note</strong>: This will be ignored if you manually specify a nlocktime using <a href="struct.TxBuilder.html#method.nlocktime" title="TxBuilder::nlocktime"><code>TxBuilder::nlocktime</code></a>.</li>
<li>Decide whether coinbase outputs are mature or not. If the coinbase outputs are not
mature at <code>current_height</code>, we ignore them in the coin selection.
If you want to create a transaction that spends immature coinbase inputs, manually
add them using <a href="struct.TxBuilder.html#method.add_utxos" title="TxBuilder::add_utxos"><code>TxBuilder::add_utxos</code></a>.</li>
</ol>
<p>In both cases, if you don’t provide a current height, we use the last sync height.</p>
</div></details><details class="rustdoc-toggle method-toggle" open><summary><div id="method.allow_dust" class="method has-srclink"><div class="rightside"><a class="srclink" href="../../../src/bdk/wallet/tx_builder.rs.html#568-571" title="goto source code">source</a></div><a href="#method.allow_dust" class="anchor"></a><h4 class="code-header">pub fn <a href="#method.allow_dust" class="fnname">allow_dust</a>(&amp;mut self, allow_dust: <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.bool.html">bool</a>) -&gt; <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.reference.html">&amp;mut </a>Self</h4></div></summary><div class="docblock"><p>Set whether or not the dust limit is checked.</p>
<p><strong>Note</strong>: by avoiding a dust limit check you may end up with a transaction that is non-standard.</p>
</div></details></div></details><details class="rustdoc-toggle implementors-toggle" open><summary><div id="impl-1" class="impl has-srclink"><div class="rightside"><a class="srclink" href="../../../src/bdk/wallet/tx_builder.rs.html#574-642" title="goto source code">source</a></div><a href="#impl-1" class="anchor"></a><h3 class="code-header in-band">impl&lt;'a, D:&nbsp;<a class="trait" href="../../database/trait.BatchDatabase.html" title="trait bdk::database::BatchDatabase">BatchDatabase</a>, Cs:&nbsp;<a class="trait" href="../coin_selection/trait.CoinSelectionAlgorithm.html" title="trait bdk::wallet::coin_selection::CoinSelectionAlgorithm">CoinSelectionAlgorithm</a>&lt;D&gt;&gt; <a class="struct" href="struct.TxBuilder.html" title="struct bdk::wallet::tx_builder::TxBuilder">TxBuilder</a>&lt;'a, D, Cs, <a class="struct" href="struct.CreateTx.html" title="struct bdk::wallet::tx_builder::CreateTx">CreateTx</a>&gt;</h3></div></summary><div class="impl-items"><details class="rustdoc-toggle method-toggle" open><summary><div id="method.set_recipients" class="method has-srclink"><div class="rightside"><a class="srclink" href="../../../src/bdk/wallet/tx_builder.rs.html#576-579" title="goto source code">source</a></div><a href="#method.set_recipients" class="anchor"></a><h4 class="code-header">pub fn <a href="#method.set_recipients" class="fnname">set_recipients</a>(&amp;mut self, recipients: <a class="struct" href="https://doc.rust-lang.org/nightly/alloc/vec/struct.Vec.html" title="struct alloc::vec::Vec">Vec</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.tuple.html">(</a>Script, <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.u64.html">u64</a><a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.tuple.html">)</a>&gt;) -&gt; <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.reference.html">&amp;mut </a>Self</h4></div></summary><div class="docblock"><p>Replace the recipients already added with a new list</p>
</div></details><details class="rustdoc-toggle method-toggle" open><summary><div id="method.add_recipient" class="method has-srclink"><div class="rightside"><a class="srclink" href="../../../src/bdk/wallet/tx_builder.rs.html#582-585" title="goto source code">source</a></div><a href="#method.add_recipient" class="anchor"></a><h4 class="code-header">pub fn <a href="#method.add_recipient" class="fnname">add_recipient</a>(&amp;mut self, script_pubkey: Script, amount: <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.u64.html">u64</a>) -&gt; <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.reference.html">&amp;mut </a>Self</h4></div></summary><div class="docblock"><p>Add a recipient to the internal list</p>
</div></details><details class="rustdoc-toggle method-toggle" open><summary><div id="method.add_data" class="method has-srclink"><div class="rightside"><a class="srclink" href="../../../src/bdk/wallet/tx_builder.rs.html#588-592" title="goto source code">source</a></div><a href="#method.add_data" class="anchor"></a><h4 class="code-header">pub fn <a href="#method.add_data" class="fnname">add_data</a>(&amp;mut self, data: <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.slice.html">&amp;[</a><a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.u8.html">u8</a><a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.slice.html">]</a>) -&gt; <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.reference.html">&amp;mut </a>Self</h4></div></summary><div class="docblock"><p>Add data as an output, using OP_RETURN</p>
</div></details><details class="rustdoc-toggle method-toggle" open><summary><div id="method.drain_to" class="method has-srclink"><div class="rightside"><a class="srclink" href="../../../src/bdk/wallet/tx_builder.rs.html#638-641" title="goto source code">source</a></div><a href="#method.drain_to" class="anchor"></a><h4 class="code-header">pub fn <a href="#method.drain_to" class="fnname">drain_to</a>(&amp;mut self, script_pubkey: Script) -&gt; <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.reference.html">&amp;mut </a>Self</h4></div></summary><div class="docblock"><p>Sets the address to <em>drain</em> excess coins to.</p>
<p>Usually, when there are excess coins they are sent to a change address generated by the
wallet. This option replaces the usual change address with an arbitrary <code>script_pubkey</code> of
your choosing. Just as with a change output, if the drain output is not needed (the excess
coins are too small) it will not be included in the resulting transaction. The only
difference is that it is valid to use <code>drain_to</code> without setting any ordinary recipients
with <a href="struct.TxBuilder.html#method.add_recipient"><code>add_recipient</code></a> (but it is perfectly fine to add recipients as well).</p>
<p>If you choose not to set any recipients, you should either provide the utxos that the
transaction should spend via <a href="struct.TxBuilder.html#method.add_utxos"><code>add_utxos</code></a>, or set <a href="struct.TxBuilder.html#method.drain_wallet"><code>drain_wallet</code></a> to spend all of them.</p>
<p>When bumping the fees of a transaction made with this option, you probably want to
use <a href="struct.TxBuilder.html#method.allow_shrinking"><code>allow_shrinking</code></a> to allow this output to be reduced to pay for the extra fees.</p>
<h5 id="example-1" class="section-header"><a href="#example-1">Example</a></h5>
<p><code>drain_to</code> is very useful for draining all the coins in a wallet with <a href="struct.TxBuilder.html#method.drain_wallet"><code>drain_wallet</code></a> to a
single address.</p>

<div class="example-wrap"><pre class="rust rust-example-rendered"><code><span class="kw">let</span> <span class="kw-2">mut</span> <span class="ident">tx_builder</span> <span class="op">=</span> <span class="ident">wallet</span>.<span class="ident">build_tx</span>();

<span class="ident">tx_builder</span>
    <span class="comment">// Spend all outputs in this wallet.</span>
    .<span class="ident">drain_wallet</span>()
    <span class="comment">// Send the excess (which is all the coins minus the fee) to this address.</span>
    .<span class="ident">drain_to</span>(<span class="ident">to_address</span>.<span class="ident">script_pubkey</span>())
    .<span class="ident">fee_rate</span>(<span class="ident">FeeRate::from_sat_per_vb</span>(<span class="number">5.0</span>))
    .<span class="ident">enable_rbf</span>();
<span class="kw">let</span> (<span class="ident">psbt</span>, <span class="ident">tx_details</span>) <span class="op">=</span> <span class="ident">tx_builder</span>.<span class="ident">finish</span>()<span class="question-mark">?</span>;</code></pre></div>
</div></details></div></details><details class="rustdoc-toggle implementors-toggle" open><summary><div id="impl-2" class="impl has-srclink"><div class="rightside"><a class="srclink" href="../../../src/bdk/wallet/tx_builder.rs.html#645-674" title="goto source code">source</a></div><a href="#impl-2" class="anchor"></a><h3 class="code-header in-band">impl&lt;'a, D:&nbsp;<a class="trait" href="../../database/trait.BatchDatabase.html" title="trait bdk::database::BatchDatabase">BatchDatabase</a>&gt; <a class="struct" href="struct.TxBuilder.html" title="struct bdk::wallet::tx_builder::TxBuilder">TxBuilder</a>&lt;'a, D, <a class="type" href="../coin_selection/type.DefaultCoinSelectionAlgorithm.html" title="type bdk::wallet::coin_selection::DefaultCoinSelectionAlgorithm">DefaultCoinSelectionAlgorithm</a>, <a class="struct" href="struct.BumpFee.html" title="struct bdk::wallet::tx_builder::BumpFee">BumpFee</a>&gt;</h3></div></summary><div class="impl-items"><details class="rustdoc-toggle method-toggle" open><summary><div id="method.allow_shrinking" class="method has-srclink"><div class="rightside"><a class="srclink" href="../../../src/bdk/wallet/tx_builder.rs.html#656-673" title="goto source code">source</a></div><a href="#method.allow_shrinking" class="anchor"></a><h4 class="code-header">pub fn <a href="#method.allow_shrinking" class="fnname">allow_shrinking</a>(<br>&nbsp;&nbsp;&nbsp;&nbsp;&amp;mut self, <br>&nbsp;&nbsp;&nbsp;&nbsp;script_pubkey: Script<br>) -&gt; <a class="enum" href="https://doc.rust-lang.org/nightly/core/result/enum.Result.html" title="enum core::result::Result">Result</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.reference.html">&amp;mut </a>Self, <a class="enum" href="../../enum.Error.html" title="enum bdk::Error">Error</a>&gt;</h4></div></summary><div class="docblock"><p>Explicitly tells the wallet that it is allowed to reduce the amount of the output matching this
<code>script_pubkey</code> in order to bump the transaction fee. Without specifying this the wallet
will attempt to find a change output to shrink instead.</p>
<p><strong>Note</strong> that the output may shrink to below the dust limit and therefore be removed. If it is
preserved then it is currently not guaranteed to be in the same position as it was
originally.</p>
<p>Returns an <code>Err</code> if <code>script_pubkey</code> can’t be found among the recipients of the
transaction we are bumping.</p>
</div></details></div></details><h2 id="trait-implementations" class="small-section-header">Trait Implementations<a href="#trait-implementations" class="anchor"></a></h2><div id="trait-implementations-list"><details class="rustdoc-toggle implementors-toggle" open><summary><div id="impl-Clone" class="impl has-srclink"><div class="rightside"><a class="srclink" href="../../../src/bdk/wallet/tx_builder.rs.html#172-181" title="goto source code">source</a></div><a href="#impl-Clone" class="anchor"></a><h3 class="code-header in-band">impl&lt;'a, Cs:&nbsp;<a class="trait" href="https://doc.rust-lang.org/nightly/core/clone/trait.Clone.html" title="trait core::clone::Clone">Clone</a>, Ctx, D&gt; <a class="trait" href="https://doc.rust-lang.org/nightly/core/clone/trait.Clone.html" title="trait core::clone::Clone">Clone</a> for <a class="struct" href="struct.TxBuilder.html" title="struct bdk::wallet::tx_builder::TxBuilder">TxBuilder</a>&lt;'a, D, Cs, Ctx&gt;</h3></div></summary><div class="impl-items"><details class="rustdoc-toggle method-toggle" open><summary><div id="method.clone" class="method trait-impl has-srclink"><div class="rightside"><a class="srclink" href="../../../src/bdk/wallet/tx_builder.rs.html#173-180" title="goto source code">source</a></div><a href="#method.clone" class="anchor"></a><h4 class="code-header">fn <a href="https://doc.rust-lang.org/nightly/core/clone/trait.Clone.html#tymethod.clone" class="fnname">clone</a>(&amp;self) -&gt; Self</h4></div></summary><div class='docblock'><p>Returns a copy of the value. <a href="https://doc.rust-lang.org/nightly/core/clone/trait.Clone.html#tymethod.clone">Read more</a></p>
</div></details><details class="rustdoc-toggle method-toggle" open><summary><div id="method.clone_from" class="method trait-impl has-srclink"><div class="rightside"><span class="since" title="Stable since Rust version 1.0.0">1.0.0</span> · <a class="srclink" href="https://doc.rust-lang.org/nightly/src/core/clone.rs.html#130" title="goto source code">source</a></div><a href="#method.clone_from" class="anchor"></a><h4 class="code-header">fn <a href="https://doc.rust-lang.org/nightly/core/clone/trait.Clone.html#method.clone_from" class="fnname">clone_from</a>(&amp;mut self, source: <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.reference.html">&amp;</a>Self)</h4></div></summary><div class='docblock'><p>Performs copy-assignment from <code>source</code>. <a href="https://doc.rust-lang.org/nightly/core/clone/trait.Clone.html#method.clone_from">Read more</a></p>
</div></details></div></details><details class="rustdoc-toggle implementors-toggle" open><summary><div id="impl-Debug" class="impl has-srclink"><div class="rightside"><a class="srclink" href="../../../src/bdk/wallet/tx_builder.rs.html#119" title="goto source code">source</a></div><a href="#impl-Debug" class="anchor"></a><h3 class="code-header in-band">impl&lt;'a, D:&nbsp;<a class="trait" href="https://doc.rust-lang.org/nightly/core/fmt/trait.Debug.html" title="trait core::fmt::Debug">Debug</a>, Cs:&nbsp;<a class="trait" href="https://doc.rust-lang.org/nightly/core/fmt/trait.Debug.html" title="trait core::fmt::Debug">Debug</a>, Ctx:&nbsp;<a class="trait" href="https://doc.rust-lang.org/nightly/core/fmt/trait.Debug.html" title="trait core::fmt::Debug">Debug</a>&gt; <a class="trait" href="https://doc.rust-lang.org/nightly/core/fmt/trait.Debug.html" title="trait core::fmt::Debug">Debug</a> for <a class="struct" href="struct.TxBuilder.html" title="struct bdk::wallet::tx_builder::TxBuilder">TxBuilder</a>&lt;'a, D, Cs, Ctx&gt;</h3></div></summary><div class="impl-items"><details class="rustdoc-toggle method-toggle" open><summary><div id="method.fmt" class="method trait-impl has-srclink"><div class="rightside"><a class="srclink" href="../../../src/bdk/wallet/tx_builder.rs.html#119" title="goto source code">source</a></div><a href="#method.fmt" class="anchor"></a><h4 class="code-header">fn <a href="https://doc.rust-lang.org/nightly/core/fmt/trait.Debug.html#tymethod.fmt" class="fnname">fmt</a>(&amp;self, f: &amp;mut <a class="struct" href="https://doc.rust-lang.org/nightly/core/fmt/struct.Formatter.html" title="struct core::fmt::Formatter">Formatter</a>&lt;'_&gt;) -&gt; <a class="type" href="https://doc.rust-lang.org/nightly/core/fmt/type.Result.html" title="type core::fmt::Result">Result</a></h4></div></summary><div class='docblock'><p>Formats the value using the given formatter. <a href="https://doc.rust-lang.org/nightly/core/fmt/trait.Debug.html#tymethod.fmt">Read more</a></p>
</div></details></div></details></div><h2 id="synthetic-implementations" class="small-section-header">Auto Trait Implementations<a href="#synthetic-implementations" class="anchor"></a></h2><div id="synthetic-implementations-list"><div id="impl-RefUnwindSafe" class="impl has-srclink"><div class="rightside"></div><a href="#impl-RefUnwindSafe" class="anchor"></a><h3 class="code-header in-band">impl&lt;'a, D, Cs, Ctx&gt; !<a class="trait" href="https://doc.rust-lang.org/nightly/core/panic/unwind_safe/trait.RefUnwindSafe.html" title="trait core::panic::unwind_safe::RefUnwindSafe">RefUnwindSafe</a> for <a class="struct" href="struct.TxBuilder.html" title="struct bdk::wallet::tx_builder::TxBuilder">TxBuilder</a>&lt;'a, D, Cs, Ctx&gt;</h3></div><div id="impl-Send" class="impl has-srclink"><div class="rightside"></div><a href="#impl-Send" class="anchor"></a><h3 class="code-header in-band">impl&lt;'a, D, Cs, Ctx&gt; !<a class="trait" href="https://doc.rust-lang.org/nightly/core/marker/trait.Send.html" title="trait core::marker::Send">Send</a> for <a class="struct" href="struct.TxBuilder.html" title="struct bdk::wallet::tx_builder::TxBuilder">TxBuilder</a>&lt;'a, D, Cs, Ctx&gt;</h3></div><div id="impl-Sync" class="impl has-srclink"><div class="rightside"></div><a href="#impl-Sync" class="anchor"></a><h3 class="code-header in-band">impl&lt;'a, D, Cs, Ctx&gt; !<a class="trait" href="https://doc.rust-lang.org/nightly/core/marker/trait.Sync.html" title="trait core::marker::Sync">Sync</a> for <a class="struct" href="struct.TxBuilder.html" title="struct bdk::wallet::tx_builder::TxBuilder">TxBuilder</a>&lt;'a, D, Cs, Ctx&gt;</h3></div><div id="impl-Unpin" class="impl has-srclink"><div class="rightside"></div><a href="#impl-Unpin" class="anchor"></a><h3 class="code-header in-band">impl&lt;'a, D, Cs, Ctx&gt; <a class="trait" href="https://doc.rust-lang.org/nightly/core/marker/trait.Unpin.html" title="trait core::marker::Unpin">Unpin</a> for <a class="struct" href="struct.TxBuilder.html" title="struct bdk::wallet::tx_builder::TxBuilder">TxBuilder</a>&lt;'a, D, Cs, Ctx&gt; <span class="where fmt-newline">where<br>&nbsp;&nbsp;&nbsp;&nbsp;Cs: <a class="trait" href="https://doc.rust-lang.org/nightly/core/marker/trait.Unpin.html" title="trait core::marker::Unpin">Unpin</a>,<br>&nbsp;&nbsp;&nbsp;&nbsp;Ctx: <a class="trait" href="https://doc.rust-lang.org/nightly/core/marker/trait.Unpin.html" title="trait core::marker::Unpin">Unpin</a>,&nbsp;</span></h3></div><div id="impl-UnwindSafe" class="impl has-srclink"><div class="rightside"></div><a href="#impl-UnwindSafe" class="anchor"></a><h3 class="code-header in-band">impl&lt;'a, D, Cs, Ctx&gt; !<a class="trait" href="https://doc.rust-lang.org/nightly/core/panic/unwind_safe/trait.UnwindSafe.html" title="trait core::panic::unwind_safe::UnwindSafe">UnwindSafe</a> for <a class="struct" href="struct.TxBuilder.html" title="struct bdk::wallet::tx_builder::TxBuilder">TxBuilder</a>&lt;'a, D, Cs, Ctx&gt;</h3></div></div><h2 id="blanket-implementations" class="small-section-header">Blanket Implementations<a href="#blanket-implementations" class="anchor"></a></h2><div id="blanket-implementations-list"><details class="rustdoc-toggle implementors-toggle" open><summary><div id="impl-Any" class="impl has-srclink"><div class="rightside"><a class="srclink" href="https://doc.rust-lang.org/nightly/src/core/any.rs.html#132-136" title="goto source code">source</a></div><a href="#impl-Any" class="anchor"></a><h3 class="code-header in-band">impl&lt;T&gt; <a class="trait" href="https://doc.rust-lang.org/nightly/core/any/trait.Any.html" title="trait core::any::Any">Any</a> for T <span class="where fmt-newline">where<br>&nbsp;&nbsp;&nbsp;&nbsp;T: 'static + ?<a class="trait" href="https://doc.rust-lang.org/nightly/core/marker/trait.Sized.html" title="trait core::marker::Sized">Sized</a>,&nbsp;</span></h3></div></summary><div class="impl-items"><details class="rustdoc-toggle method-toggle" open><summary><div id="method.type_id" class="method trait-impl has-srclink"><div class="rightside"><a class="srclink" href="https://doc.rust-lang.org/nightly/src/core/any.rs.html#133" title="goto source code">source</a></div><a href="#method.type_id" class="anchor"></a><h4 class="code-header">pub fn <a href="https://doc.rust-lang.org/nightly/core/any/trait.Any.html#tymethod.type_id" class="fnname">type_id</a>(&amp;self) -&gt; <a class="struct" href="https://doc.rust-lang.org/nightly/core/any/struct.TypeId.html" title="struct core::any::TypeId">TypeId</a></h4></div></summary><div class='docblock'><p>Gets the <code>TypeId</code> of <code>self</code>. <a href="https://doc.rust-lang.org/nightly/core/any/trait.Any.html#tymethod.type_id">Read more</a></p>
</div></details></div></details><details class="rustdoc-toggle implementors-toggle" open><summary><div id="impl-Borrow%3CT%3E" class="impl has-srclink"><div class="rightside"><a class="srclink" href="https://doc.rust-lang.org/nightly/src/core/borrow.rs.html#209-214" title="goto source code">source</a></div><a href="#impl-Borrow%3CT%3E" class="anchor"></a><h3 class="code-header in-band">impl&lt;T&gt; <a class="trait" href="https://doc.rust-lang.org/nightly/core/borrow/trait.Borrow.html" title="trait core::borrow::Borrow">Borrow</a>&lt;T&gt; for T <span class="where fmt-newline">where<br>&nbsp;&nbsp;&nbsp;&nbsp;T: ?<a class="trait" href="https://doc.rust-lang.org/nightly/core/marker/trait.Sized.html" title="trait core::marker::Sized">Sized</a>,&nbsp;</span></h3></div></summary><div class="impl-items"><details class="rustdoc-toggle method-toggle" open><summary><div id="method.borrow" class="method trait-impl has-srclink"><div class="rightside"><span class="since" title="const unstable">const: <a href="https://github.com/rust-lang/rust/issues/91522" title="Tracking issue for const_borrow">unstable</a></span> · <a class="srclink" href="https://doc.rust-lang.org/nightly/src/core/borrow.rs.html#211" title="goto source code">source</a></div><a href="#method.borrow" class="anchor"></a><h4 class="code-header">pub fn <a href="https://doc.rust-lang.org/nightly/core/borrow/trait.Borrow.html#tymethod.borrow" class="fnname">borrow</a>(&amp;self) -&gt; <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.reference.html">&amp;</a>T</h4></div></summary><div class='docblock'><p>Immutably borrows from an owned value. <a href="https://doc.rust-lang.org/nightly/core/borrow/trait.Borrow.html#tymethod.borrow">Read more</a></p>
</div></details></div></details><details class="rustdoc-toggle implementors-toggle" open><summary><div id="impl-BorrowMut%3CT%3E" class="impl has-srclink"><div class="rightside"><a class="srclink" href="https://doc.rust-lang.org/nightly/src/core/borrow.rs.html#218-222" title="goto source code">source</a></div><a href="#impl-BorrowMut%3CT%3E" class="anchor"></a><h3 class="code-header in-band">impl&lt;T&gt; <a class="trait" href="https://doc.rust-lang.org/nightly/core/borrow/trait.BorrowMut.html" title="trait core::borrow::BorrowMut">BorrowMut</a>&lt;T&gt; for T <span class="where fmt-newline">where<br>&nbsp;&nbsp;&nbsp;&nbsp;T: ?<a class="trait" href="https://doc.rust-lang.org/nightly/core/marker/trait.Sized.html" title="trait core::marker::Sized">Sized</a>,&nbsp;</span></h3></div></summary><div class="impl-items"><details class="rustdoc-toggle method-toggle" open><summary><div id="method.borrow_mut" class="method trait-impl has-srclink"><div class="rightside"><span class="since" title="const unstable">const: <a href="https://github.com/rust-lang/rust/issues/91522" title="Tracking issue for const_borrow">unstable</a></span> · <a class="srclink" href="https://doc.rust-lang.org/nightly/src/core/borrow.rs.html#219" title="goto source code">source</a></div><a href="#method.borrow_mut" class="anchor"></a><h4 class="code-header">pub fn <a href="https://doc.rust-lang.org/nightly/core/borrow/trait.BorrowMut.html#tymethod.borrow_mut" class="fnname">borrow_mut</a>(&amp;mut self) -&gt; <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.reference.html">&amp;mut </a>T</h4></div></summary><div class='docblock'><p>Mutably borrows from an owned value. <a href="https://doc.rust-lang.org/nightly/core/borrow/trait.BorrowMut.html#tymethod.borrow_mut">Read more</a></p>
</div></details></div></details><details class="rustdoc-toggle implementors-toggle" open><summary><div id="impl-From%3CT%3E" class="impl has-srclink"><div class="rightside"><a class="srclink" href="https://doc.rust-lang.org/nightly/src/core/convert/mod.rs.html#549-553" title="goto source code">source</a></div><a href="#impl-From%3CT%3E" class="anchor"></a><h3 class="code-header in-band">impl&lt;T&gt; <a class="trait" href="https://doc.rust-lang.org/nightly/core/convert/trait.From.html" title="trait core::convert::From">From</a>&lt;T&gt; for T</h3></div></summary><div class="impl-items"><details class="rustdoc-toggle method-toggle" open><summary><div id="method.from" class="method trait-impl has-srclink"><div class="rightside"><span class="since" title="const unstable">const: <a href="https://github.com/rust-lang/rust/issues/88674" title="Tracking issue for const_convert">unstable</a></span> · <a class="srclink" href="https://doc.rust-lang.org/nightly/src/core/convert/mod.rs.html#550" title="goto source code">source</a></div><a href="#method.from" class="anchor"></a><h4 class="code-header">pub fn <a href="https://doc.rust-lang.org/nightly/core/convert/trait.From.html#tymethod.from" class="fnname">from</a>(t: T) -&gt; T</h4></div></summary><div class='docblock'><p>Performs the conversion.</p>
</div></details></div></details><details class="rustdoc-toggle implementors-toggle" open><summary><div id="impl-Into%3CU%3E" class="impl has-srclink"><div class="rightside"><a class="srclink" href="https://doc.rust-lang.org/nightly/src/core/convert/mod.rs.html#537-544" title="goto source code">source</a></div><a href="#impl-Into%3CU%3E" class="anchor"></a><h3 class="code-header in-band">impl&lt;T, U&gt; <a class="trait" href="https://doc.rust-lang.org/nightly/core/convert/trait.Into.html" title="trait core::convert::Into">Into</a>&lt;U&gt; for T <span class="where fmt-newline">where<br>&nbsp;&nbsp;&nbsp;&nbsp;U: <a class="trait" href="https://doc.rust-lang.org/nightly/core/convert/trait.From.html" title="trait core::convert::From">From</a>&lt;T&gt;,&nbsp;</span></h3></div></summary><div class="impl-items"><details class="rustdoc-toggle method-toggle" open><summary><div id="method.into" class="method trait-impl has-srclink"><div class="rightside"><span class="since" title="const unstable">const: <a href="https://github.com/rust-lang/rust/issues/88674" title="Tracking issue for const_convert">unstable</a></span> · <a class="srclink" href="https://doc.rust-lang.org/nightly/src/core/convert/mod.rs.html#541" title="goto source code">source</a></div><a href="#method.into" class="anchor"></a><h4 class="code-header">pub fn <a href="https://doc.rust-lang.org/nightly/core/convert/trait.Into.html#tymethod.into" class="fnname">into</a>(self) -&gt; U</h4></div></summary><div class='docblock'><p>Performs the conversion.</p>
</div></details></div></details><details class="rustdoc-toggle implementors-toggle" open><summary><div id="impl-Pointable" class="impl has-srclink"><div class="rightside"></div><a href="#impl-Pointable" class="anchor"></a><h3 class="code-header in-band">impl&lt;T&gt; Pointable for T</h3></div></summary><div class="impl-items"><details class="rustdoc-toggle" open><summary><div id="associatedconstant.ALIGN" class="associatedconstant trait-impl has-srclink"><div class="rightside"></div><a href="#associatedconstant.ALIGN" class="anchor"></a><h4 class="code-header">pub const <a href="#associatedconstant.ALIGN" class="constant">ALIGN</a>: <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.usize.html">usize</a></h4></div></summary><div class='docblock'><p>The alignment of pointer.</p>
</div></details><details class="rustdoc-toggle" open><summary><div id="associatedtype.Init" class="type trait-impl has-srclink"><a href="#associatedtype.Init" class="anchor"></a><h4 class="code-header">type <a href="#associatedtype.Init" class="associatedtype">Init</a> = T</h4></div></summary><div class='docblock'><p>The type for initializers.</p>
</div></details><details class="rustdoc-toggle method-toggle" open><summary><div id="method.init" class="method trait-impl has-srclink"><div class="rightside"></div><a href="#method.init" class="anchor"></a><h4 class="code-header">pub unsafe fn <a  class="fnname">init</a>(init: &lt;T as Pointable&gt;::Init) -&gt; <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.usize.html">usize</a></h4></div></summary><div class='docblock'><p>Initializes a with the given initializer. <a href="#tymethod.init">Read more</a></p>
</div></details><details class="rustdoc-toggle method-toggle" open><summary><div id="method.deref" class="method trait-impl has-srclink"><div class="rightside"></div><a href="#method.deref" class="anchor"></a><h4 class="code-header">pub unsafe fn <a  class="fnname">deref</a>&lt;'a&gt;(ptr: <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.usize.html">usize</a>) -&gt; <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.reference.html">&amp;'a </a>T</h4></div></summary><div class='docblock'><p>Dereferences the given pointer. <a href="#tymethod.deref">Read more</a></p>
</div></details><details class="rustdoc-toggle method-toggle" open><summary><div id="method.deref_mut" class="method trait-impl has-srclink"><div class="rightside"></div><a href="#method.deref_mut" class="anchor"></a><h4 class="code-header">pub unsafe fn <a  class="fnname">deref_mut</a>&lt;'a&gt;(ptr: <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.usize.html">usize</a>) -&gt; <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.reference.html">&amp;'a mut </a>T</h4></div></summary><div class='docblock'><p>Mutably dereferences the given pointer. <a href="#tymethod.deref_mut">Read more</a></p>
</div></details><details class="rustdoc-toggle method-toggle" open><summary><div id="method.drop" class="method trait-impl has-srclink"><div class="rightside"></div><a href="#method.drop" class="anchor"></a><h4 class="code-header">pub unsafe fn <a  class="fnname">drop</a>(ptr: <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.usize.html">usize</a>)</h4></div></summary><div class='docblock'><p>Drops the object pointed to by the given pointer. <a href="#tymethod.drop">Read more</a></p>
</div></details></div></details><details class="rustdoc-toggle implementors-toggle" open><summary><div id="impl-ToOwned" class="impl has-srclink"><div class="rightside"><a class="srclink" href="https://doc.rust-lang.org/nightly/src/alloc/borrow.rs.html#84-96" title="goto source code">source</a></div><a href="#impl-ToOwned" class="anchor"></a><h3 class="code-header in-band">impl&lt;T&gt; <a class="trait" href="https://doc.rust-lang.org/nightly/alloc/borrow/trait.ToOwned.html" title="trait alloc::borrow::ToOwned">ToOwned</a> for T <span class="where fmt-newline">where<br>&nbsp;&nbsp;&nbsp;&nbsp;T: <a class="trait" href="https://doc.rust-lang.org/nightly/core/clone/trait.Clone.html" title="trait core::clone::Clone">Clone</a>,&nbsp;</span></h3></div></summary><div class="impl-items"><details class="rustdoc-toggle" open><summary><div id="associatedtype.Owned" class="type trait-impl has-srclink"><a href="#associatedtype.Owned" class="anchor"></a><h4 class="code-header">type <a href="https://doc.rust-lang.org/nightly/alloc/borrow/trait.ToOwned.html#associatedtype.Owned" class="associatedtype">Owned</a> = T</h4></div></summary><div class='docblock'><p>The resulting type after obtaining ownership.</p>
</div></details><details class="rustdoc-toggle method-toggle" open><summary><div id="method.to_owned" class="method trait-impl has-srclink"><div class="rightside"><a class="srclink" href="https://doc.rust-lang.org/nightly/src/alloc/borrow.rs.html#89" title="goto source code">source</a></div><a href="#method.to_owned" class="anchor"></a><h4 class="code-header">pub fn <a href="https://doc.rust-lang.org/nightly/alloc/borrow/trait.ToOwned.html#tymethod.to_owned" class="fnname">to_owned</a>(&amp;self) -&gt; T</h4></div></summary><div class='docblock'><p>Creates owned data from borrowed data, usually by cloning. <a href="https://doc.rust-lang.org/nightly/alloc/borrow/trait.ToOwned.html#tymethod.to_owned">Read more</a></p>
</div></details><details class="rustdoc-toggle method-toggle" open><summary><div id="method.clone_into" class="method trait-impl has-srclink"><div class="rightside"><a class="srclink" href="https://doc.rust-lang.org/nightly/src/alloc/borrow.rs.html#93" title="goto source code">source</a></div><a href="#method.clone_into" class="anchor"></a><h4 class="code-header">pub fn <a href="https://doc.rust-lang.org/nightly/alloc/borrow/trait.ToOwned.html#method.clone_into" class="fnname">clone_into</a>(&amp;self, target: <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.reference.html">&amp;mut </a>T)</h4></div></summary><div class="item-info"><div class="stab unstable"><span class="emoji">🔬</span> This is a nightly-only experimental API. (<code>toowned_clone_into</code>)</div></div><div class='docblock'><p>Uses borrowed data to replace owned data, usually by cloning. <a href="https://doc.rust-lang.org/nightly/alloc/borrow/trait.ToOwned.html#method.clone_into">Read more</a></p>
</div></details></div></details><details class="rustdoc-toggle implementors-toggle" open><summary><div id="impl-TryFrom%3CU%3E" class="impl has-srclink"><div class="rightside"><a class="srclink" href="https://doc.rust-lang.org/nightly/src/core/convert/mod.rs.html#589-598" title="goto source code">source</a></div><a href="#impl-TryFrom%3CU%3E" class="anchor"></a><h3 class="code-header in-band">impl&lt;T, U&gt; <a class="trait" href="https://doc.rust-lang.org/nightly/core/convert/trait.TryFrom.html" title="trait core::convert::TryFrom">TryFrom</a>&lt;U&gt; for T <span class="where fmt-newline">where<br>&nbsp;&nbsp;&nbsp;&nbsp;U: <a class="trait" href="https://doc.rust-lang.org/nightly/core/convert/trait.Into.html" title="trait core::convert::Into">Into</a>&lt;T&gt;,&nbsp;</span></h3></div></summary><div class="impl-items"><details class="rustdoc-toggle" open><summary><div id="associatedtype.Error-1" class="type trait-impl has-srclink"><a href="#associatedtype.Error-1" class="anchor"></a><h4 class="code-header">type <a href="https://doc.rust-lang.org/nightly/core/convert/trait.TryFrom.html#associatedtype.Error" class="associatedtype">Error</a> = <a class="enum" href="https://doc.rust-lang.org/nightly/core/convert/enum.Infallible.html" title="enum core::convert::Infallible">Infallible</a></h4></div></summary><div class='docblock'><p>The type returned in the event of a conversion error.</p>
</div></details><details class="rustdoc-toggle method-toggle" open><summary><div id="method.try_from" class="method trait-impl has-srclink"><div class="rightside"><span class="since" title="const unstable">const: <a href="https://github.com/rust-lang/rust/issues/88674" title="Tracking issue for const_convert">unstable</a></span> · <a class="srclink" href="https://doc.rust-lang.org/nightly/src/core/convert/mod.rs.html#595" title="goto source code">source</a></div><a href="#method.try_from" class="anchor"></a><h4 class="code-header">pub fn <a href="https://doc.rust-lang.org/nightly/core/convert/trait.TryFrom.html#tymethod.try_from" class="fnname">try_from</a>(value: U) -&gt; <a class="enum" href="https://doc.rust-lang.org/nightly/core/result/enum.Result.html" title="enum core::result::Result">Result</a>&lt;T, &lt;T as <a class="trait" href="https://doc.rust-lang.org/nightly/core/convert/trait.TryFrom.html" title="trait core::convert::TryFrom">TryFrom</a>&lt;U&gt;&gt;::<a class="associatedtype" href="https://doc.rust-lang.org/nightly/core/convert/trait.TryFrom.html#associatedtype.Error" title="type core::convert::TryFrom::Error">Error</a>&gt;</h4></div></summary><div class='docblock'><p>Performs the conversion.</p>
</div></details></div></details><details class="rustdoc-toggle implementors-toggle" open><summary><div id="impl-TryInto%3CU%3E" class="impl has-srclink"><div class="rightside"><a class="srclink" href="https://doc.rust-lang.org/nightly/src/core/convert/mod.rs.html#574-583" title="goto source code">source</a></div><a href="#impl-TryInto%3CU%3E" class="anchor"></a><h3 class="code-header in-band">impl&lt;T, U&gt; <a class="trait" href="https://doc.rust-lang.org/nightly/core/convert/trait.TryInto.html" title="trait core::convert::TryInto">TryInto</a>&lt;U&gt; for T <span class="where fmt-newline">where<br>&nbsp;&nbsp;&nbsp;&nbsp;U: <a class="trait" href="https://doc.rust-lang.org/nightly/core/convert/trait.TryFrom.html" title="trait core::convert::TryFrom">TryFrom</a>&lt;T&gt;,&nbsp;</span></h3></div></summary><div class="impl-items"><details class="rustdoc-toggle" open><summary><div id="associatedtype.Error" class="type trait-impl has-srclink"><a href="#associatedtype.Error" class="anchor"></a><h4 class="code-header">type <a href="https://doc.rust-lang.org/nightly/core/convert/trait.TryInto.html#associatedtype.Error" class="associatedtype">Error</a> = &lt;U as <a class="trait" href="https://doc.rust-lang.org/nightly/core/convert/trait.TryFrom.html" title="trait core::convert::TryFrom">TryFrom</a>&lt;T&gt;&gt;::<a class="associatedtype" href="https://doc.rust-lang.org/nightly/core/convert/trait.TryFrom.html#associatedtype.Error" title="type core::convert::TryFrom::Error">Error</a></h4></div></summary><div class='docblock'><p>The type returned in the event of a conversion error.</p>
</div></details><details class="rustdoc-toggle method-toggle" open><summary><div id="method.try_into" class="method trait-impl has-srclink"><div class="rightside"><span class="since" title="const unstable">const: <a href="https://github.com/rust-lang/rust/issues/88674" title="Tracking issue for const_convert">unstable</a></span> · <a class="srclink" href="https://doc.rust-lang.org/nightly/src/core/convert/mod.rs.html#580" title="goto source code">source</a></div><a href="#method.try_into" class="anchor"></a><h4 class="code-header">pub fn <a href="https://doc.rust-lang.org/nightly/core/convert/trait.TryInto.html#tymethod.try_into" class="fnname">try_into</a>(self) -&gt; <a class="enum" href="https://doc.rust-lang.org/nightly/core/result/enum.Result.html" title="enum core::result::Result">Result</a>&lt;U, &lt;U as <a class="trait" href="https://doc.rust-lang.org/nightly/core/convert/trait.TryFrom.html" title="trait core::convert::TryFrom">TryFrom</a>&lt;T&gt;&gt;::<a class="associatedtype" href="https://doc.rust-lang.org/nightly/core/convert/trait.TryFrom.html#associatedtype.Error" title="type core::convert::TryFrom::Error">Error</a>&gt;</h4></div></summary><div class='docblock'><p>Performs the conversion.</p>
</div></details></div></details><details class="rustdoc-toggle implementors-toggle" open><summary><div id="impl-VZip%3CV%3E" class="impl has-srclink"><div class="rightside"></div><a href="#impl-VZip%3CV%3E" class="anchor"></a><h3 class="code-header in-band">impl&lt;V, T&gt; VZip&lt;V&gt; for T <span class="where fmt-newline">where<br>&nbsp;&nbsp;&nbsp;&nbsp;V: MultiLane&lt;T&gt;,&nbsp;</span></h3></div></summary><div class="impl-items"><div id="method.vzip" class="method trait-impl has-srclink"><div class="rightside"></div><a href="#method.vzip" class="anchor"></a><h4 class="code-header">pub fn <a  class="fnname">vzip</a>(self) -&gt; V</h4></div></div></details></div></section><section id="search" class="content hidden"></section></div></main><div id="rustdoc-vars" data-root-path="../../../" data-current-crate="bdk" data-themes="ayu,dark,light" data-resource-suffix="" data-rustdoc-version="1.60.0-nightly (51126be1b 2022-01-24)" ></div>
</body></html>